<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Validato!</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>
<body>

    <script src='js/dist/bundle.js'></script>
    <script>

                
        var formHTML  = `

        <form id="formId" action="">
            <input type="text" name="field_name" id="field_name" placeholder="Name" />
            <input type="text" name="field_phoneNumber" id="field_phoneNumber" placeholder="Phone" />
            <input type="submit" />
        </form>

        `

        document.querySelector('body').innerHTML = formHTML;

        var validator = new FormValidator("formId", {

            fields: [

                {
                    id: "field_phoneNumber", // my be array if tyoe radio (equal names, different ids, same value)
                    group: "personalData",
                    helpText: "Digite aqui algum número para falarmos com você",
                    rules: [
                        {
                            name: 'minLength',
                            parameter: 8,
                            messages: {
                                invalid: "Tamanho inválido",
                                valid: "Tamanho correto",
                                customMessageKey1: "Lembre de por o nono dígito caso seja celular!"
                            },
                            fn: (value, parameter) => {
                                return (value.length >= parameter)
                            }
                        }
                    ],
                    events: {
                        onBeforeFieldValidate: (field) => {
                            console.log('onBeforeFieldValidate do telefone', field) 
                        },
                        onFieldValidate: (field) => {
                            console.log('onFieldValidate do telefone', field) 
                        }
                    }
                }

            ],

            events: {   
                onBeforeFormSubmit: () => {
                    // runs before form is submitted (only if valid)
                    console.log('on before formSubmit!')
                },
                onFormSubmit: () => {
                    // runs when form is submitted
                    console.log('on formSubmit!')
                }
            }

        })

    </script>

</body>
</html>